---
aliases:
  - ディレクトリ構成とファイル名
title: ディレクトリ構成とファイル名
---
import { FileTree, Aside } from '@astrojs/starlight/components';

このサブカテゴリーでは、RealTrainMod (RTM)のアドオンに必要なファイル形式や、ディレクトリ（フォルダ）構成について説明します。
## ディレクトリ構成
RTMアドオンの一般的なディレクトリ構成は以下のようになります。  
完全にこの通りである必要はありませんが、いくつかの規則があります。

また、バージョンごとの差異などによって予期しない不具合や問題が発生することを防ぐため、これを順守することを推奨します。
<FileTree>
- foo_bar_pack.zip アドオンファイル名
  - LICENSE.txt 適用するライセンス
  - README.txt 使い方の説明や確認事項など
  - pack.json アップデート通知機能の設定ファイル
  - assets
    - minecraft
      - json JSON配置場所1
        - Model\*_\*.json モデル設定用JSONファイル（.json）
      - models
        - *.mqo 3Dモデルファイル（.mqo）
        - *.mqoz 3Dモデルファイル（.mqoz）
        - *.obj 3Dモデルファイル（.obj）
        - *.ngto MCTEブロックデータ（.ngto）
        - *.ngtz MCTEブロックデータ（.ngtz）
        - json JSON配置場所2
          - ModelTrain_*.json 列車モデル設定用JSONファイル（.json）
          - ModelMachine_*.json 機械モデル設定用JSONファイル（.json）
          - Model\*_\*.json モデル設定用JSONファイル（.json）
      - scripts
        - *.js スクリプトファイル（.js）
      - textures
        - rrs
          - rrs_*.png
        - ...
        - train
          - \* テクスチャファイルのフォルダ（車両形式ごと）
            - button_*.png ボタンのテクスチャファイル（.png）
            - *.png 車両のテクスチャファイル（.png）
      - sound_*
        - sounds
          - *.ogg 音声ファイル（.ogg）
        - sounds.json 音声イベント設定ファイル（.json）
  - mods
    - RTM
      - json JSON配置場所3
        - Model\*_\*.json モデル設定用JSONファイル（.json）
</FileTree>
### 各ファイルの配置場所詳細
#### 3Dモデルファイル
3Dモデルファイルは、必ず`/assets/minecraft/models/`ディレクトリ内に配置する必要があります。  
多くの場合、`models/`ディレクトリ直下、または車両名や形式名、制作者名などを冠したサブディレクトリに配置されます。
#### テクスチャファイル
テクスチャファイルは、必ず`/assets/minecraft/textures/`ディレクトリ内に配置する必要があります。[要検証]  
多くの場合、`textures/`ディレクトリ直下には配置されず、鉄道車両の場合には`textures/train/`ディレクトリ内の車両名や形式名、制作者名などを冠したサブディレクトリに配置されます。

また、ボタンテクスチャファイルのみ独立したディレクトリにまとめられることもあります。
#### 音声ファイル
音声ファイルは、必ず`/assets/minecraft/sound_*/sounds/`ディレクトリ内に配置する必要があります。
#### スクリプトファイル
スクリプトファイルは、必ず`/assets/minecraft/`ディレクトリ内に配置する必要があります。  
多くの場合、`minecraft/`ディレクトリ直下には配置されず、`minecraft/scripts/`ディレクトリに配置されます。
#### JSONファイル
モデルの追加に使用するJSONファイルは、アドオン内の全ての箇所に配置することができますが、慣習的な理由により、ほとんどの場合以下のいずれかのディレクトリに配置されます。

1. `/assets/minecraft/json/`ディレクトリ  
   他のモデルファイルやテクスチャファイルと同じディレクトリに配置することで、まとめて管理できるという利点があります。
2. `/assets/minecraft/models/json/`ディレクトリ  
   RTM本体で採用されている設定ファイルの配置場所です。
3. `/mods/RTM/json/`ディレクトリ  
   最も採用アドオンが多いと思われる配置箇所です。

また、音声イベント設定ファイル`sounds.json`は、必ず`/assets/minecraft/sound_*/`ディレクトリ直下に配置する必要があります。
## ファイル、ディレクトリ名の制限
ファイル・ディレクトリ名には、マルチバイト文字及び一部を除く記号は使用できません[^1]。  
一部のバージョンでは使用できる例もありますが、使用できないバージョンでの動作を考慮して使用すべきではありません。

これは、アドオンで利用しないファイル、ディレクトリに対しても同様です。

また、それぞれのファイルごとに、以下の追加の注意事項があります。
### アドオンファイル
アドオンファイルの名前 は、アドオンを利用するすべてのユーザーが目にする名前です。  
そのため、多数のアドオンを識別できるように、端的でわかりやすい名前にする必要があります。

- ファイル名先頭の`[RTM]`は、ファイルがRTMのアドオンであることを示す記号として設定されています。  
  この記号を削除してもアドオンは動作しますが、一部機能が無効になるため、変更しないことを推奨します。
- ファイル名末尾の`.zip`は[拡張子](https://ja.wikipedia.org/wiki/%E6%8B%A1%E5%BC%B5%E5%AD%90)であり、RTMのアドオンの可能性があるZIP形式のアーカイブファイルであることを示しています。  
  変更するとRTMがアドオンを認識できなくなるため、変更できません。

<Aside type="caution" >
アドオンファイル名にマルチバイト文字を使用しても動作しますが、環境によって容易に文字化けを発生させアドオンを識別困難にするため、推奨しません。
</Aside>

### 3Dモデルファイル
3Dモデルファイルのファイル名には、特に追加の制限はありません。  
歴史的な理由により、モデル設定用JSONファイルと同様の接頭辞が付けられることもあります。
### テクスチャファイル
テクスチャファイルのファイル名には、特に追加の制限はありません。
### 音声ファイル
音声ファイルのファイル名には、特に追加の制限はありません。
### スクリプトファイル
スクリプトファイルのファイル名には、特に追加の制限はありません。
### JSONファイル
#### モデル設定用JSONファイル
モデルの追加に使用するJSONファイルのファイル名には、以下の規則があります。

- 接頭辞`Model[モデルタイプ名]_`を付ける
- 拡張子が`.json`である

使用できるモデルタイプ名の一覧など、より詳しい説明については、[JSONファイルの設定内容](json/overview)を参照してください。

#### 音声イベント設定用JSONファイル
音声イベント設定ファイルのファイル名は、`sounds.json`で固定です。  
複数の`sounds.json`を使用する必要がある場合は、新しい`sound_*/`ディレクトリを作成して配置することで、別々の名前空間を使用します。

[^1]: 使用できる記号としては、ハイフン`-`（`U+002D`）やアンダーバー`_`（`U+005F`）などがあります。
