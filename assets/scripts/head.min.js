function correctFavicon() {
    document.querySelectorAll('link[rel=icon],link[rel=apple-touch-icon],link[rel=mask-icon],meta[name=msapplication-TileImage]').forEach(function (node) {
        node.setAttribute(node.hasAttribute('content') ? 'content' : 'href', '/assets/images/logos/wiki-logo.svg');
    });
}
function generateCanonicalUrl(options = {}) {
    const { removeExtension = true } = options;
    const currentURL = new URL(window.location.href);
    let canonicalURL = currentURL.origin + currentURL.pathname;
    if (removeExtension) {
        canonicalURL = canonicalURL.replace(/\.[^/.]+$/, '');
    }
    return canonicalURL;
}
function addCanonicalLink(canonicalURL, replace = true) {
    const head = document.head;
    if (replace) {
        const existingCanonicalLink = head.querySelector('link[rel="canonical"]');
        if (existingCanonicalLink) {
            console.warn('Existing canonical link found, replacing it:', existingCanonicalLink.href);
            existingCanonicalLink.remove();
        }
    }
    const canonicalLink = document.createElement('link');
    canonicalLink.rel = 'canonical';
    canonicalLink.href = canonicalURL;
    head.appendChild(canonicalLink);
    console.info('Canonical link added:', canonicalLink.href);
}
function correctOgUrl(url) {
    const meta = document.querySelector('meta[property="og:url"]');
    if (meta) {
        meta.setAttribute('content', url);
        console.info('og:url corrected:', url);
    }
}
function main() {
    correctFavicon();
    const canonicalURL = generateCanonicalUrl();
    addCanonicalLink(canonicalURL, true);
    correctOgUrl(canonicalURL);
}
